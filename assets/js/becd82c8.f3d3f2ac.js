"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5359],{7197:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var t=s(5893),i=s(1151);const o={id:"solution-create-document search",title:"Document Search",custom_edit_url:null},a=void 0,c={id:"Create/solution-create-document search",title:"Document Search",description:"Setting up document search requires three core components:",source:"@site/docs/03-Create/01-Document Search.mdx",sourceDirName:"03-Create",slug:"/Create/solution-create-document search",permalink:"/solution-ai-assistants/Create/solution-create-document search",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"solution-create-document search",title:"Document Search",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Software Requirements",permalink:"/solution-ai-assistants/Prepare/Software Requirements"},next:{title:"Multilingual Capability",permalink:"/solution-ai-assistants/Create/solution-multilingual-capability"}},r={},l=[{value:"watsonx Discovery",id:"watsonx-discovery",level:2},{value:"Optional Data Connectors",id:"optional-data-connectors",level:3},{value:"watsonx.ai Setup",id:"watsonxai-setup",level:2},{value:"watsonx Assistant",id:"watsonx-assistant",level:2},{value:"Create Watson Discovery Custom Extension",id:"create-watson-discovery-custom-extension",level:3},{value:"Create watsonx.ai Custom Extension",id:"create-watsonxai-custom-extension",level:3},{value:"Enable Document search",id:"enable-document-search",level:3},{value:"Upload Actions:",id:"upload-actions",level:5},{value:"Update session variables:",id:"update-session-variables",level:5},{value:"Final Check",id:"final-check",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h5:"h5",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Setting up document search requires three core components:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"watsonx Discovery"}),"\n",(0,t.jsx)(n.li,{children:"watsonx.ai"}),"\n",(0,t.jsx)(n.li,{children:"watsonx Assistant"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"watsonx-discovery",children:"watsonx Discovery"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Prerequisite Required:"})," Watson Discovery Instance"]})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Under new projects, input a detailed project name. Select the option ",(0,t.jsx)(n.strong,{children:'"Conversational Search"'})," then click Next."]}),"\n",(0,t.jsx)(n.li,{children:"Input a collection name."}),"\n",(0,t.jsx)(n.li,{children:"Upload the file that will serve as the knowledge base. It should look like the following once you have uploaded"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"optional-data-connectors",children:"Optional Data Connectors"}),"\n",(0,t.jsxs)(n.p,{children:["In addition to direct upload data, in the Upload data section, select the ",(0,t.jsx)(n.em,{children:"here"}),' hyperlink at the end of "Need to connect to a data source? Click ',(0,t.jsx)(n.strong,{children:"here"}),'"']}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OPTION 1 - Web Crawl"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'Click "Web Crawl" then click Next'}),"\n",(0,t.jsx)(n.li,{children:'Input starting URL then click "Add" to add and repeat for all the domains.'}),"\n",(0,t.jsx)(n.li,{children:"Navigate to the upper-left hamburger icon, then go to Manage Collections, then New collections."}),"\n",(0,t.jsx)(n.li,{children:"Select a data source."}),"\n",(0,t.jsx)(n.li,{children:'If utilizing a webcrawl, input the url links to "Starting URLs" and click "Add" then Finish.'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OPTION 2 - Cloud Object Storage"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["To access files such as PDFs, CSVs, or HTML through Cloud Object Storage (COS) requires ",(0,t.jsx)(n.strong,{children:"COS Configuration"})," and setting up Watson Discovery accordingly."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"watsonxai-setup",children:"watsonx.ai Setup"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Prerequisite Required:"})," watsonx.ai Instance"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Navigate to the Cloud Pak for Data homescreen and then create a project:"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.img,{src:s(2109).Z+"",width:"3426",height:"1814"})}),"\n",(0,t.jsx)(n.li,{children:"Once on the project home screen navigate to the manage tab. Note down the project id, you'll need this later when configuring NeuralSeek:"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.img,{src:s(6697).Z+"",width:"3456",height:"1704"})}),"\n",(0,t.jsx)(n.li,{children:"Next, associate a Watson Machine Learning Instance to your project. Navigate to the Services and Integrations tab and then click on Associate service:"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.img,{src:s(2260).Z+"",width:"3456",height:"1708"})}),"\n",(0,t.jsx)(n.li,{children:"Finally, check the Waston Machine Learning box to associate the instance to your project:"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.img,{src:s(7544).Z+"",width:"3456",height:"1816"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"watsonx-assistant",children:"watsonx Assistant"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prerequisite Required:"})," Watsonx Assistant Instance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prerequisite Required:"})," Watson Discovery Instance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prerequisite Required:"})," watsonx.ai Instance"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"create-watson-discovery-custom-extension",children:"Create Watson Discovery Custom Extension"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"If you do not have an Watsonx Assistant, create new bot and fill in all required information."}),"\n",(0,t.jsx)(n.li,{children:'Once created, in your assistant, navigate to "Integrations" page.'}),"\n",(0,t.jsxs)(n.li,{children:['Click "Build custom extensions" -> click "Next" -> Input Extension name ',(0,t.jsx)(n.code,{children:"Watson Discovery"}),' -> click "Next"']}),"\n",(0,t.jsxs)(n.li,{children:["Download the Watson Discovery OpenAPI json file: ",(0,t.jsx)(n.a,{href:"https://github.com/watson-developer-cloud/assistant-toolkit/blob/master/integrations/extensions/starter-kits/watson-discovery/watson-discovery-query-openapi.json",children:"watson-discovery-query-openapi.json"})," and import file to WA. This file contains the configuration to enable accessing to watson discovery from watsonx assistant."]}),"\n",(0,t.jsx)(n.li,{children:'click "Next" -> click "Finish"'}),"\n",(0,t.jsxs)(n.li,{children:['Lower Right corner of the Watson Disovery extension, click "Add" -> click "Add" -> click "Next"\n',(0,t.jsx)(n.img,{src:s(2521).Z+"",width:"2980",height:"718"})]}),"\n",(0,t.jsxs)(n.li,{children:['In Authentication page, in the Authentication type dropdown, select "Basic auth"',"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["For Username enter ",(0,t.jsx)(n.code,{children:"apikey"})]}),"\n",(0,t.jsx)(n.li,{children:"For password and discovery_url, within IBM Cloud -> resource list -> click on you Watson Discovery Instance"}),"\n",(0,t.jsxs)(n.li,{children:["You'd see the following view.","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Copy ",(0,t.jsx)(n.strong,{children:"API Key"})," and paste it in ",(0,t.jsx)(n.em,{children:"Password"})," field."]}),"\n",(0,t.jsxs)(n.li,{children:["Copy ",(0,t.jsx)(n.strong,{children:"URL"})," and paste it in ",(0,t.jsx)(n.em,{children:"discovery_url"})," and remove ",(0,t.jsx)(n.code,{children:"https://"})," from the beginning of the string\n",(0,t.jsx)(n.img,{src:s(5807).Z+"",width:"3444",height:"1274"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:'Click "Next", click "Finish", click "Close"'}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"create-watsonxai-custom-extension",children:"Create watsonx.ai Custom Extension"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:['In your assistant, navigate to Integrations page, click "Build custom extension" -> click "Next" -> Input Extension name ',(0,t.jsx)(n.code,{children:"watsonx.ai"}),' -> click "Next" .']}),"\n",(0,t.jsxs)(n.li,{children:["download json file: ",(0,t.jsx)(n.a,{href:"https://github.com/watson-developer-cloud/assistant-toolkit/blob/master/integrations/extensions/starter-kits/language-model-watsonx/watsonx-openapi.json",children:"watsonx-openapi.json"})," and import file to WA"]}),"\n",(0,t.jsx)(n.li,{children:'click "Next" -> click "Finish"'}),"\n",(0,t.jsx)(n.li,{children:'Lower Right corner of the watsonx extension, click "Add" -> click "Add" -> click "Next"'}),"\n",(0,t.jsxs)(n.li,{children:['In Authentication page, in the Authentication type dropdown, select "OAuth 2.0"',"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["For Apikey, create and copy a new API key from ",(0,t.jsx)(n.a,{href:"https://cloud.ibm.com/iam/apikeys",children:"API key"})]}),"\n",(0,t.jsx)(n.li,{children:"For Server variables, select the region that matches where your environment is configured in."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:'Click "Next", click "Finish", click "Close"'}),"\n",(0,t.jsxs)(n.li,{children:["Your Extensions section will appear as following screenshot once both Watson Discovery and watsonx.ai custom extensions were configured.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:s(710).Z+"",width:"2936",height:"1334"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"enable-document-search",children:"Enable Document search"}),"\n",(0,t.jsx)(n.p,{children:"To enable the document search capability, you'll need to configure Watsonx.ai and Watson Discovery to work with Watsonx Assistant through its actions."}),"\n",(0,t.jsx)(n.h5,{id:"upload-actions",children:"Upload Actions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"On the Actions page of watsonx Assistant, click on Global Settings."}),"\n",(0,t.jsx)(n.li,{children:"On the Upload/Download tab, click the Upload button and upload the file that was given to you by your IBM instructors."}),"\n",(0,t.jsxs)(n.li,{children:['Configure the "Invoke watsonx generation API" action',"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:['On Step 1, click "Edit extension" to setup watsonx.ai custom extension.\n',(0,t.jsx)(n.img,{src:s(4128).Z+"",width:"3440",height:"1388"})]}),"\n",(0,t.jsx)(n.li,{children:'For the Extension options, select "watsonx.ai" and for the Operation options, select "Generation"'}),"\n",(0,t.jsxs)(n.li,{children:['For "Parameters"',"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["set ",(0,t.jsx)(n.strong,{children:"version"})," to ",(0,t.jsx)(n.code,{children:"watsonx_api_version"})," variable"]}),"\n",(0,t.jsxs)(n.li,{children:["set ",(0,t.jsx)(n.strong,{children:"input"})," to ",(0,t.jsx)(n.code,{children:"model_input"})," variable"]}),"\n",(0,t.jsxs)(n.li,{children:["set ",(0,t.jsx)(n.strong,{children:"model_id"})," to ",(0,t.jsx)(n.code,{children:"model_id"})," variable"]}),"\n",(0,t.jsxs)(n.li,{children:["set ",(0,t.jsx)(n.strong,{children:"project_id"})," to ",(0,t.jsx)(n.code,{children:"watsonx_project_id"})," variable\n",(0,t.jsx)(n.img,{src:s(7246).Z+"",width:"3450",height:"1568"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:'Click "Apply", and click "Save".'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h5,{id:"update-session-variables",children:"Update session variables:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:['within the Actions page, navigate to "Actions / Variables / Created by you".\n',(0,t.jsx)(n.img,{src:s(5288).Z+"",width:"3444",height:"1112"})]}),"\n",(0,t.jsxs)(n.li,{children:["Set ",(0,t.jsx)(n.code,{children:"discovery_project_id"})," and ",(0,t.jsx)(n.code,{children:"watsonx_project_id"})," session variable","\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Where to get credentials"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"discovery_project_id"}),": within Watson Discovery: Upper left Hamburger icon -> Integrate and deploy -> API Information. Copy Project ID and navigate back to watsonx assistant to paste it in the ",(0,t.jsx)(n.code,{children:"Initial value"})," box of this Session variable."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"watsonx_project_id"}),": - Go to ",(0,t.jsx)(n.a,{href:"https://dataplatform.cloud.ibm.com/wx/home?context=wx",children:"watsonx Platform"})," - If you do not have an project, create a new project. - ",(0,t.jsx)(n.strong,{children:"Check Services & integrations"}),': Within the project, navigate to Manage -> Services & Integrations. If no services is associated, click "Associate Service" -> select "Watson Machine Learning" -> click "Associate". - Once you confirm WML is associated, Navigate to Manage -> General -> Details -> Project ID. Copy Project ID and navigate back to watsonx assistant to paste it in the ',(0,t.jsx)(n.code,{children:"Initial value"})," of this Session variable."]}),"\n"]})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:['Once you\'ve finished configuring the variables, click "Preview" on the lower right corner, and type in questions to test the Conversational Search in your assistant!\n',(0,t.jsx)(n.img,{src:s(9721).Z+"",width:"3438",height:"1678"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"final-check",children:"Final Check"}),"\n",(0,t.jsxs)(n.p,{children:["Once the ",(0,t.jsx)(n.strong,{children:"watsonx Assistant development"})," is fully complete, you should see the status of actions showing green checkmarks, similar to screenshot below."]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},2521:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/Add_custom_extensions-1dc28a2461767cec1c1457836a2253ed.png"},2260:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/cp4d-associate-wml-40deb0494c5bc018e5e2366d2e0e6c65.png"},2109:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/cp4d-create-project-9e20d04850f1e046e67693a2eda71e39.png"},6697:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/cp4d-manage-d45d3136843f03ecb5a1d74d383bfce4.png"},710:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/custom_extension_completed_view-7beb2bc099938f639bbb7644fe3df231.png"},5807:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/watson_discovery_credentials-aa4b9b0f70f7f84f891cf2064ee629ce.png"},9721:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/watsonx_assistant_test_preview-0e8561d151caafea21a0df32187af4d1.png"},5288:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/watsonx_assistant_variables-2ad99ccfbb33b0c82db455f3f502375f.png"},4128:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/watsonx_assistant_watsonxai_action-2c0e9e3821bc0be0877d6134c9922c5d.png"},7246:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/watsonx_assistant_watsonxai_custom_extension_setup-920e07fbab562950f25e292d8c89ee57.png"},7544:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/wml-195fd6208f80f3c4dd5620674b1756f8.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>a});var t=s(7294);const i={},o=t.createContext(i);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);